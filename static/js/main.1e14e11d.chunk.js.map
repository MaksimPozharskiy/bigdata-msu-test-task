{"version":3,"sources":["components/Header/Header.js","components/TableRow/TableRow.js","components/Table/Table.js","components/Pagintaion/Pagination.js","components/Card/Card.js","components/Main/Main.js","components/Footer/Footer.js","utils/Api.js","components/Popup/Popup.js","components/App/App.js","index.js"],"names":["Header","className","TableRow","id","urlPoster","title","year","rating","runtime","defaultComment","comment","setIsVisiblePopup","hadleDeleteCommentButton","setCurrentIdMovie","hadleAddCommentButton","src","alt","length","onClick","xmlns","height","viewBox","width","fill","d","enableBackground","Table","movies","map","dataMovie","medium_cover_image","Pagination","moviesPerPage","totalMovies","paginate","pageNumbers","i","Math","ceil","push","number","Card","Main","React","useState","currentPage","setCurrentPage","document","documentElement","clientWidth","currentWidth","lastMovieIndex","firstMovieIndex","currentMovie","slice","pageNumber","Footer","api","baseUrl","headers","this","_baseUrl","_headers","fetch","then","response","_checkRequestResult","ok","json","Promise","reject","status","Popup","isVisiblePopup","valueComment","setValueComment","handleSubmit","currentIdMovie","onSubmit","e","htmlFor","value","onChange","target","type","App","setMovies","valuePopupComment","setValuePopupComment","useEffect","Api","getMovies","moviesList","data","forEach","item","idMovie","preventDefault","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.1e14e11d.chunk.js","sourcesContent":["import './Header.css';\r\n\r\nfunction Header() {\r\n  return (\r\n    <div className='header'>\r\n      <h1 className='header__title'>BigData MSU Movies</h1>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Header;","import React from 'react';\r\nimport './TableRow.css';\r\n\r\nfunction TableRow({\r\n    id, \r\n    urlPoster, \r\n    title, \r\n    year, \r\n    rating, \r\n    runtime,\r\n    defaultComment, \r\n    setIsVisiblePopup, \r\n    comment, \r\n    setCurrentIdMovie , \r\n    hadleDeleteCommentButton,\r\n    hadleAddCommentButton\r\n  }) {\r\n\r\n\r\n  return (\r\n    <tr className='table__body-row'>\r\n      <td className='table__body-cell'>{id}</td>\r\n      <td className='table__body-cell'>\r\n        {urlPoster === 'poster' ? 'poster' : <img className='table__poster' src={urlPoster} alt={title} />}\r\n      </td>\r\n      <td className='table__body-cell'>{title}</td>\r\n      <td className='table__body-cell'>{year}</td>\r\n      <td className='table__body-cell'>{rating}</td>\r\n      <td className='table__body-cell'>{runtime}</td>\r\n      <td className='table__body-cell table__body-cell_type_comment'>\r\n      {defaultComment ? 'comment' : \r\n        <>\r\n          {comment.length > 0 ? \r\n            <svg onClick={() => hadleDeleteCommentButton(id)} className='table__icon table__icon_delete' xmlns=\"http://www.w3.org/2000/svg\" height=\"40px\" viewBox=\"0 0 24 24\" width=\"40px\" fill=\"#000000\">\r\n              <path d=\"M0 0h24v24H0V0z\" fill=\"none\"/><path d=\"M16 9v10H8V9h8m-1.5-6h-5l-1 1H5v2h14V4h-3.5l-1-1zM18 7H6v12c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7z\"/>\r\n            </svg>\r\n            : \r\n            <svg onClick={() => hadleAddCommentButton(id)} className='table__icon table__icon_add' xmlns=\"http://www.w3.org/2000/svg\" enableBackground=\"new 0 0 24 24\" height=\"40px\" viewBox=\"0 0 24 24\" width=\"40px\" fill=\"#000000\">\r\n              <g><rect fill=\"none\" height=\"24\" width=\"24\"/></g>\r\n              <g><g><path d=\"M19,13h-6v6h-2v-6H5v-2h6V5h2v6h6V13z\"/></g></g>\r\n            </svg>\r\n          } \r\n          \r\n          <p className=\"table__comment\">{comment}</p> \r\n        </>\r\n      }\r\n      </td>\r\n    </tr>\r\n  );\r\n}\r\n\r\nexport default TableRow;","import './Table.css';\r\nimport TableRow from '../TableRow/TableRow';\r\n\r\nfunction Table({movies, setIsVisiblePopup, setCurrentIdMovie, hadleDeleteCommentButton, hadleAddCommentButton}) {\r\n\r\n  return (\r\n    <table className='table'>\r\n      <thead className='table__head'>\r\n      <TableRow \r\n        id='id'\r\n        urlPoster='poster'\r\n        title='title'\r\n        year='year'\r\n        rating='rating'\r\n        runtime='runtime'\r\n        defaultComment='comment'\r\n      />\r\n      </thead>\r\n      <tbody className='table__body'>\r\n        {\r\n          movies.map(dataMovie => \r\n            <TableRow\r\n              key={dataMovie.id}\r\n              id={dataMovie.id}\r\n              urlPoster={dataMovie.medium_cover_image}\r\n              title={dataMovie.title}\r\n              year={dataMovie.year}\r\n              rating={dataMovie.rating}\r\n              runtime={dataMovie.runtime}\r\n              comment={dataMovie.comment}\r\n              setIsVisiblePopup={setIsVisiblePopup}\r\n              setCurrentIdMovie={setCurrentIdMovie}\r\n              hadleDeleteCommentButton={hadleDeleteCommentButton}\r\n              hadleAddCommentButton={hadleAddCommentButton}\r\n              />\r\n          )\r\n        }\r\n      </tbody>\r\n    </table>\r\n  );\r\n}\r\n\r\nexport default Table;","import './Pagination.css';\r\n\r\nfunction Pagination({ moviesPerPage, totalMovies, paginate }) {\r\n  const pageNumbers = []\r\n  \r\n  for (let i = 1; i <= Math.ceil(totalMovies / moviesPerPage); i++) {\r\n    pageNumbers.push(i)\r\n  }\r\n\r\n  return (\r\n    <div  className='pagination'>\r\n      <ul className='pagination__list'>\r\n        {\r\n          pageNumbers.map(number => (\r\n            <li \r\n              className='pagination__list-item'\r\n              key={number}>\r\n              <button onClick={()=> paginate(number)} className='pagination__number'>{number}</button>\r\n            </li>\r\n          ))\r\n        }\r\n      </ul>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Pagination;","import './Card.css';\r\n\r\nfunction Card({\r\n    id, \r\n    urlPoster, \r\n    title, \r\n    year, \r\n    rating, \r\n    runtime,\r\n    setIsVisiblePopup, \r\n    comment, \r\n    setCurrentIdMovie , \r\n    hadleDeleteCommentButton,\r\n    hadleAddCommentButton\r\n  }) {\r\n\r\n  return (\r\n    <div className='card'>\r\n      <div className='card__head'>\r\n        <p className='card__id'>id {id}</p>\r\n        <p className='card__title'>{title}</p>\r\n      </div>\r\n      <div className='card__main'>\r\n        <img className='card__img' src={urlPoster} alt={title}/>\r\n        <div className='card__main-wrapp'>\r\n          <p className='card__main-info'>year {year}</p>\r\n          <p className='card__main-info'>rating {rating}</p>\r\n          <p className='card__main-info'>runtime {runtime}</p>\r\n        </div>\r\n      </div>\r\n      <div className='card__footer'>\r\n      {comment.length > 0 ? \r\n            <svg onClick={() => hadleDeleteCommentButton(id)} className='card__icon card__icon_delete' xmlns=\"http://www.w3.org/2000/svg\" height=\"40px\" viewBox=\"0 0 24 24\" width=\"40px\" fill=\"#000000\">\r\n              <path d=\"M0 0h24v24H0V0z\" fill=\"none\"/><path d=\"M16 9v10H8V9h8m-1.5-6h-5l-1 1H5v2h14V4h-3.5l-1-1zM18 7H6v12c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7z\"/>\r\n            </svg>\r\n            : \r\n            <svg onClick={() => hadleAddCommentButton(id)} className='card__icon card__icon_add' xmlns=\"http://www.w3.org/2000/svg\" enableBackground=\"new 0 0 24 24\" height=\"40px\" viewBox=\"0 0 24 24\" width=\"40px\" fill=\"#000000\">\r\n              <g><rect fill=\"none\" height=\"24\" width=\"24\"/></g>\r\n              <g><g><path d=\"M19,13h-6v6h-2v-6H5v-2h6V5h2v6h6V13z\"/></g></g>\r\n            </svg>\r\n          } \r\n        <p className='card__comment'>{comment}</p>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Card;","import React from 'react';\r\nimport './Main.css';\r\nimport '../Table/Table';\r\nimport Table from '../Table/Table';\r\nimport Pagination from '../Pagintaion/Pagination';\r\nimport Card from '../Card/Card';\r\n\r\nfunction Main({movies, setIsVisiblePopup, setCurrentIdMovie, hadleDeleteCommentButton}) {\r\n  const [currentPage, setCurrentPage] = React.useState(1)\r\n  const [moviesPerPage] = React.useState(4) // You can setting up count of items on page\r\n  const [currentWidth] = React.useState(document.documentElement.clientWidth)\r\n\r\n  const lastMovieIndex = currentPage * moviesPerPage;\r\n  const firstMovieIndex = lastMovieIndex - moviesPerPage\r\n  const currentMovie = movies.slice(firstMovieIndex, lastMovieIndex)\r\n  \r\n  function paginate(pageNumber) {\r\n    setCurrentPage(pageNumber);\r\n  }\r\n\r\n  function hadleAddCommentButton(id) {\r\n    setIsVisiblePopup(true)\r\n    setCurrentIdMovie(id)\r\n  }\r\n\r\n  return (\r\n    <div className='main'>\r\n      {currentWidth >= 768 ? \r\n        <Table \r\n          movies={currentMovie}\r\n          setIsVisiblePopup={setIsVisiblePopup}\r\n          setCurrentIdMovie={setCurrentIdMovie}\r\n          hadleDeleteCommentButton={hadleDeleteCommentButton}\r\n          hadleAddCommentButton={hadleAddCommentButton}\r\n        /> :\r\n        currentMovie.map((dataMovie =>\r\n          <Card\r\n            key={dataMovie.id}\r\n            id={dataMovie.id}\r\n            urlPoster={dataMovie.medium_cover_image}\r\n            title={dataMovie.title}\r\n            year={dataMovie.year}\r\n            rating={dataMovie.rating}\r\n            runtime={dataMovie.runtime}\r\n            comment={dataMovie.comment}\r\n            setIsVisiblePopup={setIsVisiblePopup}\r\n            setCurrentIdMovie={setCurrentIdMovie}\r\n            hadleDeleteCommentButton={hadleDeleteCommentButton}\r\n            hadleAddCommentButton={hadleAddCommentButton}\r\n          />\r\n        ))\r\n      }\r\n      <Pagination\r\n        moviesPerPage={moviesPerPage}\r\n        totalMovies={movies.length}\r\n        paginate={paginate}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Main;","import './Footer.css';\r\n\r\nfunction Footer() {\r\n  return (\r\n    <div className=\"App\">\r\n      \r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Footer;","class Api {\r\n  constructor({baseUrl, headers}){\r\n    this._baseUrl = baseUrl;\r\n    this._headers = headers;\r\n  }\r\n\r\n  getMovies() {\r\n    return fetch(`${this._baseUrl}`, {headers: this._headers})\r\n    .then(response => this._checkRequestResult(response));\r\n  }\r\n\r\n  // Parsing JSON on successful request\r\n  _checkRequestResult(response) {\r\n    if (response.ok) {\r\n      return response.json(); \r\n    }\r\n    return Promise.reject(`Возникла ошибка: ${response.status}`); \r\n  }\r\n}\r\n\r\n// Instantiating class\r\nconst api = new Api({\r\n  baseUrl: 'https://yts.mx/api/v2/list_movies.json',\r\n  headers: {\r\n    // If necessary, write headers here\r\n  }\r\n}); \r\n\r\nexport default api;","import './Popup.css';\r\n\r\nfunction Popup({isVisiblePopup, setIsVisiblePopup, valueComment, setValueComment, handleSubmit, currentIdMovie}) {\r\n\r\n  function closePopup() {\r\n    setIsVisiblePopup(false)\r\n    setValueComment('');\r\n  }\r\n\r\n  function handleChangeInput(e) {\r\n    setValueComment(e.target.value);\r\n  }\r\n  \r\n  return (\r\n    <div className={`popup ${isVisiblePopup ? 'popup_visibility' : ''}`}>\r\n      <form onSubmit={(e) => {\r\n        handleSubmit(e, currentIdMovie)\r\n      }} className='popup__form'>\r\n        <label className='popup__title' htmlFor='comment'>New comment</label>\r\n        <textarea id='comment' className='popup__input' value={valueComment} onChange={handleChangeInput}></textarea>\r\n        <button className='popup__submit' type='submit' >Save comment</button>\r\n      </form>\r\n    <div onClick={closePopup} className='popup__close'></div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Popup;","import React from 'react';\r\nimport './App.css';\r\nimport Header from '../Header/Header';\r\nimport Main from '../Main/Main';\r\nimport Footer from '../Footer/Footer';\r\nimport Api from '../../utils/Api';\r\nimport Popup from '../Popup/Popup';\r\n\r\nfunction App() {\r\n  const [movies, setMovies] = React.useState([]);\r\n  const [isVisiblePopup, setIsVisiblePopup] = React.useState(false)\r\n  const [valuePopupComment, setValuePopupComment] = React.useState('')\r\n  const [currentIdMovie, setCurrentIdMovie] = React.useState(0)\r\n\r\n  React.useEffect(() => {\r\n    Api.getMovies().then(moviesList => {\r\n      moviesList.data.movies.forEach((item) => {\r\n        item.comment = '';\r\n      })\r\n      setMovies(moviesList.data.movies);\r\n    })\r\n  }, []);\r\n\r\n  function handleSubmit(e, idMovie) {\r\n    e.preventDefault()\r\n    setMovies(movies.map((item) => {\r\n      if (item.id === idMovie) {\r\n        item.comment = valuePopupComment;\r\n        return item;\r\n      }\r\n      return item\r\n    }));\r\n    setValuePopupComment('')\r\n    setIsVisiblePopup(false)\r\n  }\r\n  \r\n  function hadleDeleteCommentButton(idMovie) {\r\n    setMovies(movies.map((item) => {\r\n      if (item.id === idMovie) {\r\n        item.comment = '';\r\n        return item;\r\n      }\r\n      return item\r\n    }));\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div className='page'>\r\n        <Header />\r\n        <Main \r\n          movies={movies}\r\n          setIsVisiblePopup={setIsVisiblePopup}\r\n          setCurrentIdMovie={setCurrentIdMovie}\r\n          hadleDeleteCommentButton={hadleDeleteCommentButton}\r\n        />\r\n        <Footer />\r\n      </div>\r\n      <Popup \r\n        isVisiblePopup={isVisiblePopup} \r\n        setIsVisiblePopup={setIsVisiblePopup}\r\n        valueComment={valuePopupComment}\r\n        setValueComment={setValuePopupComment}\r\n        handleSubmit={handleSubmit}\r\n        currentIdMovie={currentIdMovie}\r\n      />\r\n    </>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './components/App/App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}